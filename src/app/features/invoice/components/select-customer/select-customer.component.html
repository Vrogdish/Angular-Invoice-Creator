
<h2>Choix du client à facturer : </h2>
<div *ngIf="customers$ | async as customers">
    <ng-select
      placeholder="Rechercher un client"
      (change)="setCustomer($event)"
      (clear)="resetCustomer()"
    >
      @for (customer of customers; track customer.id) {
      <ng-option [value]="customer"
        >{{ customer.firstname }} {{ customer.lastname }}</ng-option
      >
      }
    </ng-select>
  </div>

  <div class="card" *ngIf="invoice$ | async as invoice">
    <div class="card-item">
      <img src="/icons/user.png" alt="nom" />
      <p>
        {{ invoice.customer.civility }} {{ invoice.customer.firstname }}
        {{ invoice.customer.lastname || "-" }}
      </p>
    </div>
    <div class="card-item">
      <img src="/icons/corporate.png" alt="société" />
      <p>{{ invoice.customer.company || "-" }}</p>
    </div>
    <div class="card-item">
      <img src="/icons/home.png" alt="adresse" />
      <div>
        <p>
          {{ invoice.customer.address || "-" }}
        </p>
        <p>
          {{ invoice.customer.postalCode }} {{ invoice.customer.city }}
        </p>
      </div>
    </div>
    <div class="card-item">
      <img src="/icons/phone.png" alt="téléphone" />
      <p>{{ invoice.customer.phone || "-" }}</p>
    </div>
    <div class="card-item">
      <img src="/icons/email.png" alt="email" />
      <p>{{ invoice.customer.email || "-" }}</p>
    </div>
  </div>
